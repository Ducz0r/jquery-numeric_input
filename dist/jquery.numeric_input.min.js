!function(a,b,c,d){var e=function(b,c){this.elem=b,this.$elem=a(b),this.options=c};e.prototype={init:function(){var b=this;if(b.options=a.extend({},a.fn.numeric_input.defaults,b.options),b.$elem.keypress(function(a){b.preventDefaultForKeyCode(a.which)===!0&&a.preventDefault();var c=b.$elem[0].selectionStart,d=b.$elem[0].selectionEnd,e=b.getNewValueForKeyCode(a.which,b.$elem.val(),c,d);e!==!1&&(b.$elem.val(e),b.$elem[0].setSelectionRange(c+1,c+1),b.options.callback.call(b,e))}),b.options.parseOnBlur===!0&&b.$elem.on("blur",function(a){var c=b.parseValue(b.$elem.val());b.$elem.val(c)}),b.options.clearInputOnBlurForZeroValue===!0&&b.$elem.on("focus",function(a){var c=b.$elem.val();c=c.replace(/[A-Za-z$]/g,""),c=c.replace("-",""),c=c.replace(b.options.decimal,"."),0===parseFloat(c)&&b.$elem.val("")}),b.$elem.on("input propertychange",function(){var a=b.parseValue(b.$elem.val());b.options.callback.call(b,a)}),b.options.initialParse===!0){var c=b.parseValue(b.$elem.val());b.$elem.val(c)}return b},preventDefaultForKeyCode:function(a){if(a>=48&&57>=a)return!1;switch(a){case 0:case 8:case 9:case 35:case 36:case 37:case 39:case 144:return!1;default:return!0}},getNewValueForKeyCode:function(b,c,d,e){return 44!==b&&46!==b&&188!==b&&190!==b||this.options.integer||-1!==c.substring(0,d).indexOf(this.options.decimal)||-1!==c.substring(e,c.length).indexOf(this.options.decimal)?45===b&&this.options.allowNegative&&"-"!==c.charAt(0)?"-"+c:!1:(""===a.trim(c)&&this.options.leadingZeroCheck&&(c="0"),c.slice(0,d)+this.options.decimal+c.slice(e))},parseValue:function(a){var b=!1,c=a.replace(/[A-Za-z$]/g,"");if(0===c.length&&this.options.allowEmpty)return"";if(-1!==c.indexOf("-")&&(c=c.replace("-",""),b=!0),(-1!==c.indexOf(".")||-1!==c.indexOf(","))&&(c=c.replace(".",this.options.decimal),c=c.replace(",",this.options.decimal)),0===c.indexOf(this.options.decimal)&&(c="0"+c),b===!0&&this.options.allowNegative===!0&&(c="-"+c),null!==this.options.numberOfDecimals){var e=c.split(this.options.decimal)[1];e!==d&&(e.length>this.options.numberOfDecimals&&(c=Number(Number(String("0."+e)).toFixed(this.options.numberOfDecimals))+Math.floor(Number(c))),e.length<this.options.numberOfDecimals&&(c+=new Array(this.options.numberOfDecimals-e.length+1).join("0"))),c=String(Number(c).toFixed(this.options.numberOfDecimals))}return c}},a.fn.numeric_input=function(b){return this.each(function(){a.data(this,"numeric_input")||a.data(this,"numeric_input",new e(this,b).init())})},a.fn.numeric_input.defaults={decimal:",",numberOfDecimals:null,leadingZeroCheck:!0,initialParse:!0,parseOnBlur:!0,clearInputOnBlurForZeroValue:!0,allowNegative:!1,allowEmpty:!1,integer:!1,callback:function(){}}}(jQuery,window,document);